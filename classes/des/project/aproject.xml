<class name="aProject" fauthor="$Author: Chris Moran $" fdate="$Date: 8 12 03 11:40 $" frevision="$Revision: 2 $">
<members>
<List name="classes" cls="aClass" />
<method name="saveProject" return="int">
<param name="fileName" type="string" />
<![CDATA[//@cmember 
//@param
//@return
//@version
//@i

XML x = classes[0].getXML();

//save it

string cap = (File::FileLength( fileName )==-1) ? "Saving Project under a new name?" : "Save over existing project?";

//if (message("OK to Save As '" + fileName + "'", cap, classes::core::windows::MB_YESNO ) == classes::core::windows::IDNO) {
//    return 0;
//}

File F;
if (!F.Create(fileName)){
    message("Failed to save project: " + fileName, "Save Error", classes::core::windows::MB_ICONSTOP);
    return 0;
    }

F.WriteXML(x);
F.close();

return 1;]]>
</method>
<method name="loadProject" return="int">
<param name="fileName" type="string" />
<![CDATA[//@cmember 
//@param
//@return
//@version
//@i

File afile;
if (!afile.Open(fileName, "r")) {
    message("Can't open Project file " + filename);
    return 0;
}
Blob B = afile.readBlob();
afile.close();
if (B==null)  {
    message("Can't read from Project file " + filename);
    return 0;
}
XML myXML = B.GetXMLObject();
if (myXML==null)  {
    message("Can't parse the Project file " + filename);
    return 0;
}

classes.reset();
aClass::setTo( classes, myXML.getElement(0) );

return 1;]]>
</method>
</members>
<static />
<return>
<rmeth name="saveProject" cls="int" />
<rmeth name="loadProject" cls="int" />
</return>
</class>
